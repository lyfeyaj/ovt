!function e(t,r,n){function i(a,s){if(!r[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){var r=t[a][1][e];return i(r?r:e)},l,l.exports,e,t,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e){"use strict";window.Ovt=e("./lib/ovt")},{"./lib/ovt":8}],2:[function(e,t){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e("magico"),s=e("./errors"),u=e("./utils"),c=function(){function e(t,r,n,o){i(this,e),this.value=t,this.state=n||{},this.schema=r,this.type=this.schema._type,this.methods=r._methods,this.options=o||{},this.errors=new s,this.path=this.buildPath(this.state.path,this.state.key)}return o(e,[{key:"buildPath",value:function(e,t){return e=e||"",null==t||t!==t||""===t?e:e?e+"."+t:t}},{key:"createError",value:function(e,t,r){this.errors.add(r?r:this.buildPath(this.path,e),t)}},{key:"concatErrors",value:function(e){this.errors=this.errors.concat(e)}},{key:"isErrored",value:function(){return this._isErrored?this._isErrored:(this._isErrored=this.state.hasErrors||this.errors.any(),this._isErrored)}},{key:"canAbortEarly",value:function(){return this.isAborted?this.isAborted:(this.isAborted=this.options.abortEarly&&this.isErrored(),this.isAborted)}},{key:"result",value:function(e){return{value:e,errors:this.errors.any()?this.errors:null}}},{key:"execute",value:function(){}}]),e}(),l=function(e){function t(e,n,o,a){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a))}return n(t,e),o(t,[{key:"stateBuilder",value:function(){return{key:this.state.key,value:this.state.value,path:this.state.path,hasErrors:this.isErrored()}}},{key:"execute",value:function(){var e=this.value.slice();if(this.canAbortEarly())return this.result(e);var t=this.schema._inner.exclusions,r=u.cloneArray(this.schema._inner.requireds),n=u.cloneArray(this.schema._inner.inclusions).concat(r),i=this.schema._inner.ordereds,o=this.schema._inner.orderedExclusions,a=this;if(e=(e||[]).map(function(e,s){if(a.canAbortEarly())return e;for(var c=a.buildPath(a.path,s),l=0;l<t.length&&!a.canAbortEarly();l++){var f=t[l],p=h.execute(e,f,a.stateBuilder(),a.options);p.errors||a.createError(a.buildPath(c,"forbidden"),u.t("array.forbidden")||new Error("Forbidden value can't be included"))}if(a.canAbortEarly())return e;var d=i[s];if(d){var y=h.execute(e,d,a.stateBuilder(),a.options);e=y.value,a.concatErrors(y.errors)}if(a.canAbortEarly())return e;var b=o[s];if(b){var v=h.execute(e,b,a.stateBuilder(),a.options);v.errors||a.createError(a.buildPath(c,"forbidden"),u.t("array.forbidden")||new Error("Forbidden value can't be included"))}if(a.canAbortEarly())return e;for(var m=null,g=0;g<r.length;g++){var _=r[g],O=h.execute(e,_,a.stateBuilder(),a.options);if(!O.errors){e=O.value,m=g;break}}if(null!==m&&r.splice(m,1),a.canAbortEarly())return e;for(var j=null,w=0;w<n.length&&!a.canAbortEarly()&&!j;w++){var x=n[w],E=h.execute(e,x,a.stateBuilder(),a.options);E.errors||(j=E)}return j?e=j.value:n.length&&a.createError(a.buildPath(a.path,"inclusions"),u.t("array.inclusions")||new Error("No valid schema matches")),e}),this.canAbortEarly())return this.result(e);if(r.length){var s=a._inner.requireds.length,c=s-r.length;this.createError(this.buildPath(this.path,"requireds"),u.t("array.forbidden",{currentLength:c,preferedLength:s})||new Error(s+" elements are required, now is "+c))}if(this.canAbortEarly())return this.result(e);if(i.length>e.length)for(var l=e.length;l<i.length;l++){var f=i[l];if(f){var p=h.execute(void 0,f,this.stateBuilder(),a.options);this.concatErrors(p.errors)}}return this.result(e)}}]),t}(c),f=function(e){function t(e,n,o,a){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a))}return n(t,e),o(t,[{key:"rename",value:function(e){return this.schema._inner.renames[e]||e}},{key:"execute",value:function(){var e=this.value;if(this.canAbortEarly())return this.result(e);var t=this.schema._inner.children;for(var r in t){if(this.canAbortEarly())break;var n=t[r];r=this.rename(r);var i=h.execute(a.get(e,r),n,{value:e,path:this.path,key:r,hasErrors:this.isErrored()},this.options);a.set(e,r,i.value),this.concatErrors(i.errors)}return this.result(e)}}]),t}(c),h=function(e){function t(e,n,o,a){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a))}return n(t,e),o(t,null,[{key:"execute",value:function(e,r,n,i){return new t(e,r,n,i).execute()}}]),o(t,[{key:"applyDefault",value:function(){if(!this.options.noDefaults&&u.isUndefined(this.value)){var e=this.schema._defaultValue;if(u.isUndefined(e))return;this.value=u.isFunction(e)?e(this.state.value):e}}},{key:"cannotBeBypassed",value:function(){return this.methods.forbidden||this.methods.required||!u.isUndefined(this.value)}},{key:"applyConvert",value:function(){if(this.options.convert){var e=this.value;try{e=u.isUndefined(e)?e:this.schema.convert(e)}catch(t){e=null,this.createError("convertError",t)}this.value=e}}},{key:"execRenames",value:function(){var e=this.value;if(e&&"object"===this.schema._type){var t=this.schema._inner.renames;e=u.cloneObject(e);for(var r in t){var n=t[r];r in e&&(e[n]=e[r],delete e[r])}}this.value=e}},{key:"canSkipMethodBy",value:function(e){return"validator"===e&&this.options.skipValidators?!0:"sanitizer"===e&&this.options.skipSantizers?!0:"validator"!==e&&"sanitizer"!==e?!0:!1}},{key:"execInners",value:function(e){var t=void 0,r={key:"",path:this.path,value:e,hasErrors:this.isErrored()};if("object"===this.type?t=new f(e,this.schema,r,this.options):"array"===this.type&&(t=new l(e,this.schema,r,this.options)),t){var n=t.execute();return this.concatErrors(n.errors),n.value}}},{key:"execMethods",value:function(){var e=this.value;for(var t in this.methods){if(this.canAbortEarly())break;var r=this.methods[t];if("__inners_flag__"===t&&r)e=this.execInners(e);else{if(r.canBeBypassed(this.options))continue;var n={value:e,path:this.path,key:t,hasErrors:this.isErrored(),args:[]},i=r.invoke(e,n,this.schema,this.options);if(u.isError(i)){var o=r.message(i,n.args,this.options.locale);this.createError(t,o,this._description)}else"sanitizer"===r.type&&(e=i)}}this.value=e}},{key:"execute",value:function(){return this.canAbortEarly()?this.result(this.value):(this.applyDefault(),this.cannotBeBypassed()?(this.applyConvert(),this.execRenames(),this.execMethods(),this.result(this.value)):this.result(this.value))}}]),t}(c);h.BaseCalculator=c,h.ArrayInnerCalculator=l,h.ObjectInnerCalculator=f,t.exports=h},{"./errors":4,"./utils":27,magico:48}],3:[function(e,t){"use strict";t.exports={convert:!0,noDefaults:!1,abortEarly:!0,allowUnknown:!1,defaultLocale:"en"}},{}],4:[function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(e){function t(){r(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.isOvt=!0,e.hasErrors=!1,e.name="ValidationError",e._errors={},e}return i(t,e),o(t,[{key:"add",value:function(e,t){this.hasErrors=!0,t=t||this.defaultMessage(e);var r=this._errors[e]||[];return this._errors[e]=r.concat(t),this}},{key:"get",value:function(e){return this._errors[e]}},{key:"concat",value:function(e){var r=new t;if(this.any()&&(r=r.concat(this)),e&&e.any())for(var n in e._errors)r.add(n,e.get(n));return r}},{key:"toHuman",value:function(e){return this.flatten(e).join("; ")}},{key:"flatten",value:function(e){e=e||" ";var t=[];for(var r in this._errors)for(var n=this._errors[r]||[],i=0;i<n.length;i++){var o=n[i]||this.defaultMessage(r);o instanceof Error&&(o=o.message),t.push(""+r+e+o)}return t}},{key:"asJSON",value:function(){return this._errors}},{key:"defaultMessage",value:function(e){return"Validation "+e+" failed"}},{key:"any",value:function(){return this.hasErrors}}]),t}(Error);t.exports=a},{}],5:[function(e,t){"use strict";t.exports={any:{unknown:"validation failed",convertError:"convert failed",required:"is required",optional:"is optional",forbidden:"is forbidden",valid:'must be one of "{{args}}"',only:'must be one of "{{args}}"',whitelist:'must be one of "{{args}}"',oneOf:'must be one of "{{args}}"',equals:"not equal to {{0}}",eq:"not equal to {{0}}",equal:"not equal to {{0}}",invalid:'can\'t be one of "{{args}}"',not:'can\'t be one of "{{args}}"',disallow:'can\'t be one of "{{args}}"',blacklist:'can\'t be one of "{{args}}"'},array:{isArray:"is not a valid array",forbidden:"Forbidden value can't be included",inclusions:"No valid schema matches",requireds:"{{preferedLength}} elements are required, now is {{currentLength}}",isLength:"length must be {{0}}",length:"length must be {{0}}",maxLength:"length must be less than {{0}}",max:"length must be less than {{0}}",minLength:"length must be longer than {{0}}",min:"length must be longer than {{0}}"},"boolean":{isBoolean:"is not a valid boolean"},buffer:{isBuffer:"is not a valid buffer"},date:{isDate:"is not a valid date"},func:{isFunction:"is not a valid function",arity:"arguments length must be {{0}}",minArity:"arguments length must be less than {{0}}",maxArity:"arguments length must be longer than {{0}}"},number:{isNumber:"is not a valid number",isInteger:"is not a integer",integer:"is not a integer",isPositive:"is not positive number",positive:"is not positive number",isNegative:"is not negative number",negative:"is not negative number",min:"can not less than {{0}}",max:"can not larger than {{0}}"},object:{isObject:"is not a valid object"},regexp:{isRegExp:"is not a valid regular expression"},string:{isString:"is not a valid string"},alternatives:{"try":"invalid"}}},{}],6:[function(e,t){"use strict";t.exports={any:{unknown:"æ ¡éªŒå¤±è´¥",convertError:"æ ¼å¼åŒ–å¤±è´¥",required:"ä¸èƒ½ä¸ºç©º",optional:"å¯é€‰",forbidden:"ä¸å…è®¸çš„å€¼",valid:'åªèƒ½æ˜¯ "{{args}}" å…¶ä¸­ä¹‹ä¸€',only:'åªèƒ½æ˜¯ "{{args}}" å…¶ä¸­ä¹‹ä¸€',whitelist:'åªèƒ½æ˜¯ "{{args}}" å…¶ä¸­ä¹‹ä¸€',oneOf:'åªèƒ½æ˜¯ "{{args}}" å…¶ä¸­ä¹‹ä¸€',equals:"ä¸ç­‰äºŽ{{0}}",eq:"ä¸ç­‰äºŽ{{0}}",equal:"ä¸ç­‰äºŽ{{0}}",invalid:'ä¸èƒ½æ˜¯ "{{args}}" ä¸­ä»»ä½•ä¸€ä¸ª',not:'ä¸èƒ½æ˜¯ "{{args}}" ä¸­ä»»ä½•ä¸€ä¸ª',disallow:'ä¸èƒ½æ˜¯ "{{args}}" ä¸­ä»»ä½•ä¸€ä¸ª',blacklist:'ä¸èƒ½æ˜¯ "{{args}}" ä¸­ä»»ä½•ä¸€ä¸ª'},array:{isArray:"ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ•°ç»„",forbidden:"åŒ…å«ä¸å…è®¸çš„å…ƒç´ ",inclusions:"æ²¡æœ‰åŒ¹é…çš„å…ƒç´ ",requireds:"æœŸæœ›ä¸ªæ•°æ˜¯{{preferedLength}}, ç»“æžœæ˜¯{{currentLength}}",isLength:"é•¿åº¦å¿…é¡»ä¸º{{0}}",length:"é•¿åº¦å¿…é¡»ä¸º{{0}}",maxLength:"é•¿åº¦å¿…é¡»å°äºŽ{{0}}",max:"é•¿åº¦å¿…é¡»å°äºŽ{{0}}",minLength:"é•¿åº¦å¿…é¡»å¤§äºŽ{{0}}",min:"é•¿åº¦å¿…é¡»å¤§äºŽ{{0}}"},"boolean":{isBoolean:"ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„å¸ƒå°”å€¼"},buffer:{isBuffer:"ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„Buffer"},date:{isDate:"ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ—¥æœŸ"},func:{isFunction:"ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„å‡½æ•°",arity:"å‚æ•°é•¿åº¦å¿…é¡»ä¸º{{0}}",minArity:"å‚æ•°é•¿åº¦å¿…é¡»å°äºŽ{{0}}",maxArity:"å‚æ•°é•¿åº¦å¿…é¡»å¤§äºŽ{{0}}"},number:{isNumber:"ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ•°å­—",isInteger:"ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ•´æ•°",integer:"ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ•´æ•°",isPositive:"å¿…é¡»ä¸ºæ­£æ•°",positive:"å¿…é¡»ä¸ºæ­£æ•°",isNegative:"å¿…é¡»ä¸ºè´Ÿæ•°",negative:"å¿…é¡»ä¸ºè´Ÿæ•°",min:"ä¸èƒ½å°äºŽ{{0}}",max:"ä¸èƒ½å¤§äºŽ{{0}}"},object:{isObject:"ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„å¯¹è±¡"},regexp:{isRegExp:"ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ­£åˆ™è¡¨è¾¾å¼"},string:{isString:"ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„å­—ç¬¦ä¸²"},alternatives:{"try":"æ— æ•ˆ"}}},{}],7:[function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=e("magico"),o=e("./utils"),a=["validator","sanitizer"],s=function(){function e(t){r(this,e),t=t||{},this.name=t.name,this.args=t.args,this.refs=t.refs,this.type=t.type,this.path=t.path,this.locale=t.locale,this.fn=o.tryCatch(this.type,t.fn)}return n(e,[{key:"canBeBypassed",value:function(e){return e=e||{},"validator"===this.type&&e.skipValidators?!0:"sanitizer"===this.type&&e.skipSantizers?!0:~a.indexOf(this.type)?!1:!0}},{key:"invoke",value:function(e,t,r,n){r=r||{},n=n||{},t=t||{path:"",key:"",value:void 0,hasErrors:!1};var a=o.cloneArray(this.args);for(var s in this.refs)a[s]=i.get(t.value,this.refs[s].__key);t.args=a;var u={state:t,schema:r,options:n};return this.fn.apply(u,[e].concat(a))}},{key:"message",value:function(e,t,r){r=r||"en",t=t||[],t.args=t,t.locale=r;var n=void 0;return this.locale&&(n=i.get(this.locale,"__msg."+r)),n||(n=o.t(this.path,t)||e||""),n}},{key:"is",value:function(e){return this.type===e}}]),e}();t.exports=s},{"./utils":27,magico:48}],8:[function(e,t){"use strict";function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=e("magico"),a=e("baiji-i18n"),s=e("./config"),u=e("./types"),c=e("./errors"),l=e("./utils"),f=e("./schema"),h=e("./calculator"),p=e("./locales/en"),d=e("./locales/zh-CN"),y=Object.keys(u),b=function(){function t(){n(this,t),this.registerLocale("en",p),this.registerLocale("zh-CN",d),this.config=s,this.Schema=f,this.I18n=a}return i(t,[{key:"addMethod",value:function(e,t,r){if(l.assert(~y.indexOf(e),e+" is not a valid schema type."),l.isFunction(r)){var n=l.parseArg(arguments),i=n[4]||{};l.isObject(n[3])&&(i=n[3]),i.method=r,l.isFunction(n[3])&&(i.chainingBehaviour=n[3]),r=i}var o=u[e].prototype;l.chainable(o,e)(t,r)}},{key:"plugin",value:function(t,r){if(l.isString(t)){var n="ovt-plugin-"+t;try{var i=e(n);l.assert(l.isFunction(i),n+" is not a valid plugin"),i(this,r)}catch(o){console.log("[31m\n          You don't have module '"+n+"' installed correctly, please run command:\n          `npm install "+n+" --save`\n          to install the module.\n          Otherwise '"+n+"' will not be activated.\n        [39m")}}else l.assert(l.isFunction(t),t+" is not a valid plugin"),t(this,r)}},{key:"parseOptions",value:function(e){e=e||{};var t={};return t.skipSantizers=e.skipSantizers===!0,t.skipValidators=e.skipValidators===!0,t.abortEarly=null==e.abortEarly?s.abortEarly:e.abortEarly,t.convert=null==e.convert?s.convert:e.convert,t.noDefaults=null==e.noDefaults?s.noDefaults:e.noDefaults,t.locale=e.locale||s.defaultLocale||"en",t}},{key:"validate",value:function(e,t,r,n){l.assert(t&&t.isOvt,l.obj2Str(t)+" is not a valid Schema");var i={};l.isFunction(r)?n=r:i=r,i=this.parseOptions(i);var o=h.execute(e,t,{path:"",key:"",value:e,errors:new c},i);return l.isFunction(n)?n(o.errors,o.value):o}},{key:"assert",value:function(e,t,r){var n=this.validate(e,t,r);if(n.errors)throw n.errors}},{key:"ref",value:function(e){return{__key:e,__isRef:!0}}},{key:"isRef",value:function(e){return l.isRef(e)}},{key:"m",value:function(e){if(e){var t=s.defaultLocale||"en";return l.isString(e)&&(e=r({},t,e)),{__msg:e,__isLocale:!0}}}},{key:"registerLocale",value:function(e,t){t=t||{};var r=e+".ovt",n={};return y.forEach(function(e){n[e]=Object.assign(o.get(a.translations,r+"."+e)||{},o.get(t,e))}),o.set(a.translations,r,n),this}}]),t}();y.forEach(function(e){var t=u[e];b.prototype[e]=function(){var e=new t;return e.initialize.apply(e,arguments)}}),t.exports=new b},{"./calculator":2,"./config":3,"./errors":4,"./locales/en":5,"./locales/zh-CN":6,"./schema":9,"./types":17,"./utils":27,"baiji-i18n":46,magico:48}],9:[function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=e("./utils"),o=e("./calculator"),a=function(){function e(){r(this,e),this._type=void 0,this._defaultValidator=void 0,this._defaultValue=void 0,this._emptySchema=void 0,this.isOvt=!0,this._description=void 0,this._notes=[],this._tags=[],this._methods={},this._inner={inclusions:[],requireds:[],ordereds:[],exclusions:[],orderedExclusions:[],children:{},renames:{}},this._virtuals={}}return n(e,[{key:"initialize",value:function(){return this._defaultValidator?this[this._defaultValidator]():this}},{key:"convert",value:function(e){return e}},{key:"clone",value:function(){var e=new this.constructor;return e._defaultValidator=this._defaultValidator,e._defaultValue=this._defaultValue,e._emptySchema=this._emptySchema,e._methods=i.merge({},this._methods),e._description=this._description,e._notes=i.cloneArray(this._notes),e._tags=i.cloneArray(this._tags),e._inner={inclusions:i.cloneArray(this._inner.inclusions),requireds:i.cloneArray(this._inner.requireds),ordereds:i.cloneArray(this._inner.ordereds),orderedExclusions:i.cloneArray(this._inner.orderedExclusions),exclusions:i.cloneArray(this._inner.exclusions),children:i.cloneObject(this._inner.children),renames:i.cloneObject(this._inner.renames)},e._virtuals=i.cloneObject(this._virtuals),e}},{key:"concat",value:function(e){i.assert(e&&e.isOvt,i.obj2Str(e)+" is not a valid ovt schema"),i.assert("any"===this._type||"any"===e._type||this._type===e._type,this._type+" schema is not allowed to concat "+e._type+" schema");var t=void 0,r=void 0;return"any"===this._type||this._type===e._type?(t=e.clone(),r=this):"any"===e._type&&(t=this.clone(),r=e),t._defaultValidator=r._defaultValidator,t._defaultValue=r._defaultValue,t._emptySchema=r._emptySchema,t._description=r._description,t._notes=t._notes.concat(r._notes),t._tags=t._tags.concat(r._tags),i.merge(t._methods,r._methods),i.merge(t._inner.inclusions,r._inner.inclusions),i.merge(t._inner.requireds,r._inner.requireds),i.merge(t._inner.ordereds,r._inner.ordereds),i.merge(t._inner.orderedExclusions,r._inner.orderedExclusions),i.merge(t._inner.exclusions,r._inner.exclusions),i.merge(t._inner.children,r._inner.children),i.merge(t._inner.renames,r._inner.renames),i.merge(t._virtuals,r._virtuals),t}},{key:"validate",value:function(e,t){var r={path:"",key:"",value:e,hasErrors:!1};return o.execute(e,this,r,t)}}]),e}(),s=i.chainable(a.prototype);s("empty",{chainingBehaviour:function(e){return this._emptySchema=e,this}}),s("desc","description",{chainingBehaviour:function(e){return i.isUndefined(e)?this:(i.assert(i.isString(e),"Description must be a non-empty string"),this._description=e,this)}}),s("note","notes",{chainingBehaviour:function(e){return i.isUndefined(e)?this:(i.assert(e&&(i.isString(e)||Array.isArray(e)),"Notes must be a non-empty string or array"),this._notes=this._notes.concat(e),this)}}),s("tag","tags",{chainingBehaviour:function(e){return i.isUndefined(e)?this:(i.assert(e&&(i.isString(e)||Array.isArray(e)),"Tags must be a non-empty string or array"),this._tags=this._tags.concat(e),this)}}),s("virtual",{chainingBehaviour:function(e,t){return i.isUndefined(e)?this:(i.assert(i.isString(e),i.obj2Str(e)+" is not a valid string"),this._virtuals[e]=t,this)}}),s("default",{chainingBehaviour:function(e){return this._defaultValue=e,this}}),t.exports=a},{"./calculator":2,"./utils":27}],10:[function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=e("./any"),a=e("../utils"),s=function(e){function t(){r(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._type="alternatives",e}return i(t,e),t}(o),u=a.chainable(o.prototype,"alternatives");u("try",{method:function(){var e=a.cloneArray(arguments),t=e.shift();e=a.parseArg(e);for(var r=void 0,n=0;n<e.length;n++){var i=e[n],o=i.validate(t,this.options);if(!o.errors){r=o.value;break}}return r||new Error("validation failed")},chainingBehaviour:function(){var e=a.parseArg(arguments);e.forEach(function(e){a.assert(e.isOvt,a.obj2Str(e)+" is not a valid ovt schema")})},type:"sanitizer"}),t.exports=s},{"../utils":27,"./any":11}],11:[function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(){var e=s.cloneArray(arguments),t=e.shift();return e=s.parseArg(e),!!~e.indexOf(t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("../utils"),u=e("../schema"),c=function(e){function t(){r(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._type="any",e}return i(t,e),a(t,[{key:"convert",value:function(e){return e}}]),t}(u),l=s.chainable(c.prototype,"any");l("required",{method:function(e){var t=this.schema._emptySchema,r=s.isUndefined(e);if(r)return!r;if(t&&t.isOvt){var n=t.validate(e,{abortEarly:!0});r=r||!n.errors}else s.isUndefined(t)||(r=r||e===t);return!r},chainingBehaviour:function(){return delete this._methods.optional,delete this._methods.forbidden,this}}),l("optional",{chainingBehaviour:function(){return delete this._methods.required,delete this._methods.forbidden,this}}),l("forbidden",{method:function(e){return s.isUndefined(e)},chainingBehaviour:function(){return delete this._methods.required,delete this._methods.optional,this}}),l("valid","only","whitelist","oneOf",{method:o}),l("equals","eq","equal",{method:function(e,t){return e===t||e!==e&&t!==t}}),l("invalid","not","disallow","blacklist",{method:function(){return!o.apply(this,arguments)}}),t.exports=c},{"../schema":9,"../utils":27}],12:[function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function f(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:f(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0===o?void 0:o.call(r)},s=e("./any"),u=e("../utils"),c=function(e){function t(){r(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._type="array",e._defaultValidator="isArray",e._inner.inclusions=[],e._inner.requireds=[],e._inner.ordereds=[],e._inner.orderedExclusions=[],e._inner.exclusions=[],e}return i(t,e),o(t,[{key:"initialize",value:function(){var e=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this);return e._addItems.apply(e,arguments)}},{key:"convert",value:function(e){return u.castArray(e)}},{key:"_addItems",value:function(){var e=u.parseArg(arguments),t=this;return e.length?(e.forEach(function(e){u.assert(e.isOvt,u.obj2Str(e)+" is invalid"),"required"in e._methods?t._inner.requireds.push(e):"forbidden"in e._methods?t._inner.exclusions.push(e.optional()):t._inner.inclusions.push(e)}),this._methods.__inners_flag__=!0,this):this}}]),t}(s),l=u.chainable(c.prototype,"array");l("isArray",{method:u.isArray}),l("ordered",{chainingBehaviour:function(){var e=u.parseArg(arguments),t=this;return e.forEach(function(e,r){u.assert(e.isOvt,u.obj2Str(e)+" is not a valid ovt schema"),"forbidden"in e._methods?t._inner.orderedExclusions[r]=e.optional():t._inner.ordereds[r]=e}),this._methods.__inners_flag__=!0,this}}),l("elements","items",{chainingBehaviour:function(){return this._addItems.apply(this,arguments)}}),l("isLength","length",{method:function(e,t){return e.length===t}}),l("maxLength","max",{method:function(e,t){return e.length<=t}}),l("minLength","min",{method:function(e,t){return e.length>=t}}),t.exports=c},{"../utils":27,"./any":11}],13:[function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e("./any"),s=e("../utils"),u=function(e){function t(){r(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._type="boolean",e._defaultValidator="isBoolean",e}return i(t,e),o(t,[{key:"convert",value:function(e){return s.isBoolean(e)?e:Boolean(e).valueOf()}}]),t}(a),c=s.chainable(u.prototype,"boolean");c("isBoolean",{method:s.isBoolean}),t.exports=u},{"../utils":27,"./any":11}],14:[function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e("../utils"),s=e("./any"),u="undefined"!=typeof Buffer,c=function(e){function t(){r(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._type="buffer",e._defaultValidator="isBuffer",e}return i(t,e),o(t,[{key:"convert",value:function(e){return u?e instanceof Buffer?e:new Buffer(e):e}}]),t}(s),l=a.chainable(c.prototype,"buffer");l("isBuffer",{method:function(e){return u?e instanceof Buffer:!1}}),t.exports=c},{"../utils":27,"./any":11}],15:[function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e("../utils"),s=e("./any"),u=function(e){function t(){r(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._type="date",e._defaultValidator="isDate",e}return i(t,e),o(t,[{key:"convert",value:function(e){return a.isDate(e)?e:new Date(e)}}]),t}(s),c=a.chainable(u.prototype,"date");c("isDate",{method:a.isDate}),t.exports=u},{"../utils":27,"./any":11}],16:[function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e("./object"),s=e("../utils"),u=function(e){function t(){r(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._type="func",e._defaultValidator="isFunction",e}return i(t,e),o(t,[{key:"convert",value:function(e){return s.isFunction(e)?e:new Function(e)}}]),t}(a),c=s.chainable(u.prototype,"func");c("isFunction",{method:s.isFunction}),c("arity",{method:function(e,t){return t===e.length}}),c("minArity",{method:function(e,t){return e.length>=t}}),c("maxArity",{method:function(e,t){return e.length<=t}}),t.exports=u},{"../utils":27,"./object":19}],17:[function(e,t){"use strict";t.exports={any:e("./any"),array:e("./array"),string:e("./string"),"boolean":e("./boolean"),buffer:e("./buffer"),date:e("./date"),func:e("./func"),number:e("./number"),object:e("./object"),regexp:e("./regexp"),
alternatives:e("./alternatives")}},{"./alternatives":10,"./any":11,"./array":12,"./boolean":13,"./buffer":14,"./date":15,"./func":16,"./number":18,"./object":19,"./regexp":20,"./string":21}],18:[function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e("../utils"),s=e("./any"),u=function(e){function t(){r(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._type="number",e._defaultValidator="isNumber",e}return i(t,e),o(t,[{key:"convert",value:function(e){return a.isNumber(e)?e:Number(e)}}]),t}(s),c=a.chainable(u.prototype,"number");c("isNumber",{method:a.isNumber}),c("isInteger","integer",{method:function(e){return Number.isInteger(e)}}),c("isInteger","integer",{method:function(e){return Number.isInteger(e)}}),c("isPositive","positive",{method:function(e){return e>0}}),c("isNegative","negative",{method:function(e){return 0>e}}),c("min",{method:function(e,t){return e>=t}}),c("max",{method:function(e,t){return t>=e}}),t.exports=u},{"../utils":27,"./any":11}],19:[function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function h(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:h(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0===o?void 0:o.call(r)},s=e("./any"),u=e("../utils"),c=e("./array"),l=function(e){function t(){r(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._type="object",e._defaultValidator="isObject",e._inner.renames={},e._inner.children={},e}return i(t,e),o(t,[{key:"initialize",value:function(e){var r=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this);return r._addSchemas(e)}},{key:"convert",value:function(e){return u.isObject(e)?e:new Object(e)}},{key:"_addSchemas",value:function(e){e=e||{},u.assert(u.isObject(e)&&!e.isOvt,u.obj2Str(e)+" is invalid");for(var t in e){var r=e[t]||{};this._addSchema(t,r)}return this._methods.__inners_flag__=!0,this}},{key:"_addSchema",value:function(e,r){if(u.assert(u.isString(e),u.obj2Str(e)+" is not a valid key"),r.isOvt)this._inner.children[e]=r;else if(u.isArray(r)){var n=new c;n=n.initialize.apply(n,r),this._inner.children[e]=n}else if(u.isObject(r)){var i=new t;i=i.initialize(r),this._inner.children[e]=i}else u.assert(!1,u.obj2Str(r)+" is not a valid schema");return this._methods.__inners_flag__=!0,this}}]),t}(s),f=u.chainable(l.prototype,"object");f("isObject",{method:u.isObject}),f("add",{chainingBehaviour:function(e,t){return this._addSchema(e,t)}}),f("keys",{chainingBehaviour:function(e){return this._addSchemas(e)}}),f("rename",{chainingBehaviour:function(e,t){return u.isString(t)&&u.assert(u.isString(e),u.obj2Str(e)+" is not a valid string"),u.isString(e)?this._inner.renames[e]=t:u.isObject(e)&&(this._inner.renames=Object.assign(this._inner.renames,e)),this}}),t.exports=l},{"../utils":27,"./any":11,"./array":12}],20:[function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e("../utils"),s=e("./any"),u=function(e){function t(){r(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._type="regexp",e._defaultValidator="isRegExp",e}return i(t,e),o(t,[{key:"convert",value:function(e){return a.isRegExp(e)?e:new RegExp(e)}}]),t}(s),c=a.chainable(u.prototype,"regexp");c("isRegExp",{method:a.isRegExp}),t.exports=u},{"../utils":27,"./any":11}],21:[function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e("../utils"),s=e("./any"),u=function(e){function t(){r(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._type="string",e._defaultValidator="isString",e}return i(t,e),o(t,[{key:"convert",value:function(e){return a.isString(e)?e:String(e)}}]),t}(s),c=a.chainable(u.prototype,"string");c("isString",{method:a.isString}),t.exports=u},{"../utils":27,"./any":11}],22:[function(e,t){"use strict";t.exports=function(e,t){if(!e){var r=new Error(t);throw r.name="AssertionError",r}}},{}],23:[function(e,t){"use strict";var r=e("./isArray"),n=e("./isUndefined");t.exports=function(){if(!arguments.length)return[];var e=arguments[0];return r(e)?e:n(e)?[]:[e]}},{"./isArray":28,"./isUndefined":39}],24:[function(e,t){"use strict";function r(e,t,r,a){a=a||{},f(c(e),n(e)+" is not a valid Object"),f(s(r),n(r)+" is not a valid String");var d=u(a.chainingBehaviour),y=u(a.method);f(y||d,"Invalid chainable method `"+r+"`, options method or chainingBehaviour should be provided!"),a.type=a.type||"validator",a.allowMethodOverwrite=a.allowMethodOverwrite===!1;var b=a.method||i;e[r]=function(e){var n=this.clone();if(d&&(n=a.chainingBehaviour.apply(n,arguments)||n),y){var i=b,s=o(arguments);a.allowMethodOverwrite&&"validator"===a.type&&u(e)&&(i=e,s.shift());var c=void 0;l(s[s.length-1])&&(c=s.pop());for(var f=Object.create(null),v=0;v<s.length;v++)h(s[v])&&(f[v]=s[v]);n._methods||(n._methods={}),n._methods[r]=new p({name:r,fn:i,args:s,refs:f,type:a.type,path:t+"."+r,locale:c})}return n}}var n=e("./obj2Str"),i=e("./noop"),o=e("./cloneArray"),a=e("./parseArg"),s=e("./isString"),u=e("./isFunction"),c=e("./isObject"),l=e("./isLocale"),f=e("./assert"),h=e("./isRef"),p=e("../method");t.exports=function(e,t){return function(){var n=a(arguments),i=n.pop();n.forEach(function(n){r(e,t,n,i)})}}},{"../method":7,"./assert":22,"./cloneArray":25,"./isFunction":32,"./isLocale":33,"./isObject":35,"./isRef":36,"./isString":38,"./noop":41,"./obj2Str":42,"./parseArg":43}],25:[function(e,t){"use strict";t.exports=function(e){e=e||[];for(var t=new Array(e.length),r=e.length;r--;)t[r]=e[r];return t}},{}],26:[function(e,t){"use strict";var r=e("./isObject"),n=e("./isArray"),i=e("./cloneArray");t.exports=function(e){if(r(e)){var t=e.constructor||Object,o=new t;for(var a in e)o[a]=n(e[a])?i(e[a]):e[a];return o}return e}},{"./cloneArray":25,"./isArray":28,"./isObject":35}],27:[function(e,t,r){"use strict";r.noop=e("./noop"),r.assert=e("./assert"),r.isError=e("./isError"),r.isUndefined=e("./isUndefined"),r.isArray=e("./isArray"),r.isBoolean=e("./isBoolean"),r.isDate=e("./isDate"),r.isFunction=e("./isFunction"),r.isNumber=e("./isNumber"),r.isObject=e("./isObject"),r.isRegExp=e("./isRegExp"),r.isString=e("./isString"),r.castArray=e("./castArray"),r.chainable=e("./chainable"),r.obj2Str=e("./obj2Str"),r.tryCatch=e("./tryCatch"),r.parseArg=e("./parseArg"),r.cloneArray=e("./cloneArray"),r.cloneObject=e("./cloneObject"),r.isRef=e("./isRef"),r.isLocale=e("./isLocale"),r.t=e("./t"),r.merge=e("./merge")},{"./assert":22,"./castArray":23,"./chainable":24,"./cloneArray":25,"./cloneObject":26,"./isArray":28,"./isBoolean":29,"./isDate":30,"./isError":31,"./isFunction":32,"./isLocale":33,"./isNumber":34,"./isObject":35,"./isRef":36,"./isRegExp":37,"./isString":38,"./isUndefined":39,"./merge":40,"./noop":41,"./obj2Str":42,"./parseArg":43,"./t":44,"./tryCatch":45}],28:[function(e,t){"use strict";var r=e("./isObject"),n=e("./obj2Str"),i="[object Array]",o=Array.isArray;t.exports=function(e){return o?o(e):r(e)&&n(e)===i}},{"./isObject":35,"./obj2Str":42}],29:[function(e,t){"use strict";var r=e("./isObject"),n=e("./obj2Str"),i="[object Boolean]";t.exports=function(e){return"boolean"==typeof e?!0:r(e)&&n(e)===i}},{"./isObject":35,"./obj2Str":42}],30:[function(e,t){"use strict";var r=e("./isObject"),n=e("./obj2Str"),i="[object Date]";t.exports=function(e){return r(e)&&n(e)===i}},{"./isObject":35,"./obj2Str":42}],31:[function(e,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=e("./obj2Str"),i="[object Error]";t.exports=function(e){var t=!!e&&"object"===("undefined"==typeof e?"undefined":r(e));return t?n(e)===i||"string"==typeof e.message&&"string"==typeof e.name:!1}},{"./obj2Str":42}],32:[function(e,t){"use strict";var r=e("./isObject"),n=e("./obj2Str"),i="[object Function]",o="[object GeneratorFunction]";t.exports=function(e){var t=r(e)?n(e):"";return t===i||t===o}},{"./isObject":35,"./obj2Str":42}],33:[function(e,t){"use strict";t.exports=function(e){return e&&e.__isLocale===!0}},{}],34:[function(e,t){"use strict";var r=e("./isObject"),n=e("./obj2Str"),i="[object Number]";t.exports=function(e){return"number"==typeof e||r(e)&&n(e)===i}},{"./isObject":35,"./obj2Str":42}],35:[function(e,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.exports=function(e){var t="undefined"==typeof e?"undefined":r(e);return!!e&&("object"===t||"function"===t)}},{}],36:[function(e,t){"use strict";t.exports=function(e){return e&&e.__isRef===!0}},{}],37:[function(e,t){"use strict";var r=e("./isObject"),n=e("./obj2Str"),i="[object RegExp]";t.exports=function(e){return r(e)&&n(e)===i}},{"./isObject":35,"./obj2Str":42}],38:[function(e,t){"use strict";var r=e("./isObject"),n=e("./isArray"),i=e("./obj2Str"),o="[object String]";t.exports=function(e){return"string"==typeof e||!n(e)&&r(e)&&i(e)===o}},{"./isArray":28,"./isObject":35,"./obj2Str":42}],39:[function(e,t){"use strict";t.exports=function(e){return void 0===e}},{}],40:[function(e,t){"use strict";t.exports=function(e,t){e=e||{},t=t||{};for(var r in t)e[r]=t[r];return e}},{}],41:[function(e,t){"use strict";t.exports=function(){}},{}],42:[function(e,t){"use strict";t.exports=function(e){return Object.prototype.toString.call(e)}},{}],43:[function(e,t){"use strict";var r=e("./cloneArray"),n=e("./isArray");t.exports=function(e){return e&&e.length?1===e.length&&n(e[0])?e[0]:r(e):[]}},{"./cloneArray":25,"./isArray":28}],44:[function(e,t){"use strict";var r=e("magico"),n=e("baiji-i18n"),i=e("../config");t.exports=function(e,t){t=t||{},e=e||"",t.locale=t.locale||i.defaultLocale,t.scope="ovt";var o=String(e).split(".")[1]||"unknown",a=t.locale+".ovt.any."+o;return t.defaultValue=r.get(n.translations,a)||"",n.t(e,t)}},{"../config":3,"baiji-i18n":46,magico:48}],45:[function(e,t){"use strict";var r=e("./isError"),n=e("./isString");t.exports=function(e,t){return function(){var i=null;try{i=t.apply(this,arguments)}catch(o){i=o}if("validator"!==e)return i;if(r(i))return i;if(n(i))return new Error(i);if(i===!1){var a="validation failed";return new Error(a)}}}},{"./isError":31,"./isString":38}],46:[function(e,t){t.exports=e("./lib/i18n")},{"./lib/i18n":47}],47:[function(e,t){!function(e){if("undefined"!=typeof t&&t.exports)t.exports=e(this);else if("function"==typeof define&&define.amd){var r=this;define("i18n",function(){return e(r)})}else this.I18n=e(this)}(function(e){"use strict";var t=e&&e.I18n||{},r=Array.prototype.slice,n=function(e){return("0"+e.toString()).substr(-2)},i=function(e,t){return s("round",e,-t).toFixed(t)},o=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},a=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},s=function(e,t,r){return"undefined"==typeof r||0===+r?Math[e](t):(t=+t,r=+r,isNaN(t)||"number"!=typeof r||r%1!==0?0/0:(t=t.toString().split("e"),t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-r:-r))),t=t.toString().split("e"),+(t[0]+"e"+(t[1]?+t[1]+r:r))))},u={day_names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbr_day_names:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],month_names:[null,"January","February","March","April","May","June","July","August","September","October","November","December"],abbr_month_names:[null,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridian:["AM","PM"]},c={precision:3,separator:".",delimiter:",",strip_insignificant_zeros:!1},l={unit:"$",precision:2,format:"%u%n",sign_first:!0,delimiter:",",separator:"."},f={unit:"%",precision:3,format:"%n%u",separator:".",delimiter:""},h=[null,"kb","mb","gb","tb"],p={defaultLocale:"en",locale:"en",defaultSeparator:".",placeholder:/(?:\{\{|%\{)(.*?)(?:\}\}?)/gm,fallbacks:!1,translations:{},missingBehaviour:"message",missingTranslationPrefix:""};return t.reset=function(){this.defaultLocale=p.defaultLocale,this.locale=p.locale,this.defaultSeparator=p.defaultSeparator,this.placeholder=p.placeholder,this.fallbacks=p.fallbacks,this.translations=p.translations,this.missingBehaviour=p.missingBehaviour,this.missingTranslationPrefix=p.missingTranslationPrefix},t.initializeOptions=function(){"undefined"==typeof this.defaultLocale&&null!==this.defaultLocale&&(this.defaultLocale=p.defaultLocale),"undefined"==typeof this.locale&&null!==this.locale&&(this.locale=p.locale),"undefined"==typeof this.defaultSeparator&&null!==this.defaultSeparator&&(this.defaultSeparator=p.defaultSeparator),"undefined"==typeof this.placeholder&&null!==this.placeholder&&(this.placeholder=p.placeholder),"undefined"==typeof this.fallbacks&&null!==this.fallbacks&&(this.fallbacks=p.fallbacks),"undefined"==typeof this.translations&&null!==this.translations&&(this.translations=p.translations),"undefined"==typeof this.missingBehaviour&&null!==this.missingBehaviour&&(this.missingBehaviour=p.missingBehaviour),"undefined"==typeof this.missingTranslationPrefix&&null!==this.missingTranslationPrefix&&(this.missingTranslationPrefix=p.missingTranslationPrefix)},t.initializeOptions(),t.locales={},t.locales.get=function(e){var r=this[e]||this[t.locale]||this["default"];return"function"==typeof r&&(r=r(e)),a(r)===!1&&(r=[r]),r},t.locales["default"]=function(e){var r,n=[],i=[];return e&&n.push(e),!e&&t.locale&&n.push(t.locale),t.fallbacks&&t.defaultLocale&&n.push(t.defaultLocale),n.forEach(function(e){r=e.split("-")[0],~i.indexOf(e)||i.push(e),t.fallbacks&&r&&r!==e&&!~i.indexOf(r)&&i.push(r)}),n.length||n.push("en"),i},t.pluralization={},t.pluralization.get=function(e){return this[e]||this[t.locale]||this["default"]},t.pluralization["default"]=function(e){switch(e){case 0:return["zero","other"];case 1:return["one"];default:return["other"]}},t.currentLocale=function(){return this.locale||this.defaultLocale},t.isSet=function(e){return void 0!==e&&null!==e},t.lookup=function(e,t){t=this.prepareOptions(t);{var r,n,i,o=this.locales.get(t.locale).slice();o[0]}for(e=this.getFullScope(e,t);o.length;)if(r=o.shift(),n=e.split(this.defaultSeparator),i=this.translations[r]){for(;n.length&&(i=i[n.shift()],void 0!==i&&null!==i););if(void 0!==i&&null!==i)return i}return this.isSet(t.defaultValue)?t.defaultValue:void 0},t.meridian=function(){var e=this.lookup("time"),t=this.lookup("date");return e&&e.am&&e.pm?[e.am,e.pm]:t&&t.meridian?t.meridian:u.meridian},t.prepareOptions=function(){for(var e,t=r.call(arguments),n={};t.length;)if(e=t.shift(),"object"==typeof e)for(var i in e)e.hasOwnProperty(i)&&(this.isSet(n[i])||(n[i]=e[i]));return n},t.createTranslationOptions=function(e,t){var r=[{scope:e}];return this.isSet(t.defaults)&&(r=r.concat(t.defaults)),this.isSet(t.defaultValue)&&(r.push({message:t.defaultValue}),delete t.defaultValue),r},t.translate=function(e,t){t=this.prepareOptions(t);var r,n=this.createTranslationOptions(e,t),i=n.some(function(e){return this.isSet(e.scope)?r=this.lookup(e.scope,t):this.isSet(e.message)&&(r=e.message),void 0!==r&&null!==r?!0:void 0},this);return i?("string"==typeof r?r=this.interpolate(r,t):o(r)&&this.isSet(t.count)&&(r=this.pluralize(t.count,r,t)),r):this.missingTranslation(e,t)},t.interpolate=function(e,t){t=this.prepareOptions(t);var r,n,i,o,a=e.match(this.placeholder);if(!a)return e;for(var n;a.length;)r=a.shift(),i=r.replace(this.placeholder,"$1"),n=this.isSet(t[i])?t[i].toString().replace(/\$/gm,"_#$#_"):i in t?this.nullPlaceholder(r,e,t):this.missingPlaceholder(r,e,t),o=new RegExp(r.replace(/\{/gm,"\\{").replace(/\}/gm,"\\}")),e=e.replace(o,n);return e.replace(/_#\$#_/g,"$")},t.pluralize=function(e,t,r){r=this.prepareOptions(r);var n,i,a,s,u;if(n=o(t)?t:this.lookup(t,r),!n)return this.missingTranslation(t,r);for(i=this.pluralization.get(r.locale),a=i(e);a.length;)if(s=a.shift(),this.isSet(n[s])){u=n[s];break}return r.count=String(e),this.interpolate(u,r)},t.missingTranslation=function(e,t){if("guess"==this.missingBehaviour){var r=e.split(".").slice(-1)[0];return(this.missingTranslationPrefix.length>0?this.missingTranslationPrefix:"")+r.replace("_"," ").replace(/([a-z])([A-Z])/g,function(e,t,r){return t+" "+r.toLowerCase()})}var n=this.getFullScope(e,t),i=[this.currentLocale(),n].join(this.defaultSeparator);return'[missing "'+i+'" translation]'},t.missingPlaceholder=function(e){return"[missing "+e+" value]"},t.nullPlaceholder=function(){return t.missingPlaceholder.apply(t,arguments)},t.toNumber=function(e,t){t=this.prepareOptions(t,this.lookup("number.format"),c);var r,n,o=0>e,a=i(Math.abs(e),t.precision).toString(),s=a.split("."),u=[],l=t.format||"%n",f=o?"-":"";for(e=s[0],r=s[1];e.length>0;)u.unshift(e.substr(Math.max(0,e.length-3),3)),e=e.substr(0,e.length-3);return n=u.join(t.delimiter),t.strip_insignificant_zeros&&r&&(r=r.replace(/0+$/,"")),t.precision>0&&r&&(n+=t.separator+r),l=t.sign_first?"%s"+l:l.replace("%n","%s%n"),n=l.replace("%u",t.unit).replace("%n",n).replace("%s",f)},t.toCurrency=function(e,t){return t=this.prepareOptions(t,this.lookup("number.currency.format"),this.lookup("number.format"),l),this.toNumber(e,t)},t.localize=function(e,t,r){switch(r||(r={}),e){case"currency":return this.toCurrency(t);case"number":return e=this.lookup("number.format"),this.toNumber(t,e);case"percentage":return this.toPercentage(t);default:var n;return n=e.match(/^(date|time)/)?this.toTime(e,t):t.toString(),this.interpolate(n,r)}},t.parseDate=function(e){var t,r,n;if("object"==typeof e)return e;if(t=e.toString().match(/(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2}):(\d{2})([\.,]\d{1,3})?)?(Z|\+00:?00)?/)){for(var i=1;6>=i;i++)t[i]=parseInt(t[i],10)||0;t[2]-=1,n=t[7]?1e3*("0"+t[7]):null,r=t[8]?new Date(Date.UTC(t[1],t[2],t[3],t[4],t[5],t[6],n)):new Date(t[1],t[2],t[3],t[4],t[5],t[6],n)}else"number"==typeof e?(r=new Date,r.setTime(e)):e.match(/([A-Z][a-z]{2}) ([A-Z][a-z]{2}) (\d+) (\d+:\d+:\d+) ([+-]\d+) (\d+)/)?(r=new Date,r.setTime(Date.parse([RegExp.$1,RegExp.$2,RegExp.$3,RegExp.$6,RegExp.$4,RegExp.$5].join(" ")))):e.match(/\d+ \d+:\d+:\d+ [+-]\d+ \d+/)?(r=new Date,r.setTime(Date.parse(e))):(r=new Date,r.setTime(Date.parse(e)));return r},t.strftime=function(e,r){var i=this.lookup("date"),o=t.meridian();if(i||(i={}),i=this.prepareOptions(i,u),isNaN(e.getTime()))throw new Error("I18n.strftime() requires a valid date object, but received an invalid date.");var a=e.getDay(),s=e.getDate(),c=e.getFullYear(),l=e.getMonth()+1,f=e.getHours(),h=f,p=f>11?1:0,d=e.getSeconds(),y=e.getMinutes(),b=e.getTimezoneOffset(),v=Math.floor(Math.abs(b/60)),m=Math.abs(b)-60*v,g=(b>0?"-":"+")+(v.toString().length<2?"0"+v:v)+(m.toString().length<2?"0"+m:m);return h>12?h-=12:0===h&&(h=12),r=r.replace("%a",i.abbr_day_names[a]),r=r.replace("%A",i.day_names[a]),r=r.replace("%b",i.abbr_month_names[l]),r=r.replace("%B",i.month_names[l]),r=r.replace("%d",n(s)),r=r.replace("%e",s),r=r.replace("%-d",s),r=r.replace("%H",n(f)),r=r.replace("%-H",f),r=r.replace("%I",n(h)),r=r.replace("%-I",h),r=r.replace("%m",n(l)),r=r.replace("%-m",l),r=r.replace("%M",n(y)),r=r.replace("%-M",y),r=r.replace("%p",o[p]),r=r.replace("%S",n(d)),r=r.replace("%-S",d),r=r.replace("%w",a),r=r.replace("%y",n(c)),r=r.replace("%-y",n(c).replace(/^0+/,"")),r=r.replace("%Y",c),r=r.replace("%z",g)},t.toTime=function(e,t){var r=this.parseDate(t),n=this.lookup(e);return r.toString().match(/invalid/i)?r.toString():n?this.strftime(r,n):r.toString()},t.toPercentage=function(e,t){return t=this.prepareOptions(t,this.lookup("number.percentage.format"),this.lookup("number.format"),f),this.toNumber(e,t)},t.toHumanSize=function(e,t){for(var r,n,i=1024,o=e,a=0;o>=i&&4>a;)o/=i,a+=1;return 0===a?(r=this.t("number.human.storage_units.units.byte",{count:o}),n=0):(r=this.t("number.human.storage_units.units."+h[a]),n=o-Math.floor(o)===0?0:1),t=this.prepareOptions(t,{unit:r,precision:n,format:"%n%u",delimiter:""}),this.toNumber(o,t)},t.getFullScope=function(e,t){return t=this.prepareOptions(t),e.constructor===Array&&(e=e.join(this.defaultSeparator)),t.scope&&(e=[t.scope,e].join(this.defaultSeparator)),e},t.extend=function(e,t){var r,n={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},t.t=t.translate,t.l=t.localize,t.p=t.pluralize,t})},{}],48:[function(e,t){"use strict";function r(e){return h.call(e)===l}function n(e){return h.call(e)===f}function i(e){return r(e)?/^(0|[1-9]\d*)$/.test(e):e>>>0===e}function o(e){return e!==e||void 0===e||null===e}function a(e){return e=e||[],e.filter(function(e){return 0===e||Boolean(e).valueOf()})}function s(e,t,u,l){if(!o(u)&&(i(u)&&(u=String(u)),r(u)&&(u=a(u.trim().split(c))),u&&n(u)&&0!==u.length)){u=u.slice();var f=u.shift();if(!o(t)){switch(e){case"get":if(0===u.length)return t[f];break;case"set":if(!u.length)return t[f]=l,!0;if("undefined"==typeof t[f]&&(t[f]={}),o(t[f]))return!1;break;case"remove":if(0===u.length){if(n(t)&&i(f)){if(f=Number(f),t.length-1<f)return!1;t.splice(f,1)}else{if(!Object.hasOwnProperty.call(t,f))return!1;delete t[f]}return!0}break;case"exists":if(0===u.length)return n(t)&&i(f)?(f=Number(f),t.length-1>=f):Object.hasOwnProperty.call(t,f);break;default:return}return s(e,t[f],u,l)}}}function u(e){return this instanceof u?void(this._obj=e):new u(e)}var c=/\[['"]?|\.|['"]?\]/,l="[object String]",f="[object Array]",h=Object.prototype.toString;u.wrap=function(e){return u(e)},u.set=function(e,t,r){return!!s("set",e,t,r)},u.get=function(e,t){return s("get",e,t)},u.exists=function(e,t){return!!s("exists",e,t)},u.remove=function(e,t){return!!s("remove",e,t)},u.access=function(e,t){return u(u.get(e,t))},u.prototype.set=function(e,t){return u.set(this._obj,e,t)},u.prototype.get=function(e){return u.get(this._obj,e)},u.prototype.exists=function(e){return u.exists(this._obj,e)},u.prototype.remove=function(e){return u.remove(this._obj,e)},u.prototype.toObject=function(){return this._obj},u.prototype.access=function(e){return u.access(this._obj,e)},t.exports=u},{}]},{},[1]);